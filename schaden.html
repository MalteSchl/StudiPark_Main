<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Schaden melden - StudiPark DHBW Mannheim</title>
  <link rel="stylesheet" href="styles/index.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
  <!-- HEADER WIE BEI INDEX -->
  <header>
    <div class="header-content">
      <div class="logo-container">
        <img src="assets/Logo-StudiPark.jpg" alt="StudiPark Logo" class="logo">
      </div>
      <div class="header-text">
        <h1>StudiPark - DHBW Mannheim Campus Coblitzallee</h1>
        <p>Intelligentes Parkplatzmanagement System</p>
      </div>
    </div>
  </header>

  <!-- NAVIGATION -->
  <nav class="page-nav">
    <div class="nav-container">
      <a href="index.html" class="nav-link">← Zurück zur Übersicht</a>
    </div>
  </nav>

  <!-- HAUPTINHALT -->
  <div class="main-container">
    <main class="content schaden-content">
      <section class="schaden-section">
        <h1>⚠️ Schaden melden</h1>
        
        <div class="intro-box">
          <p class="intro-text">
            Haben Sie einen Schaden an Ihrem Fahrzeug oder an der Parkplatzinfrastruktur bemerkt? 
            Melden Sie den Vorfall hier schnell und unkompliziert. Alle Meldungen werden zeitnah bearbeitet.
          </p>
        </div>

        <div class="form-container">
          <form class="damage-form" id="damageForm">
            <!-- Schadenstyp -->
            <div class="form-section">
              <h2>🔍 Art des Schadens</h2>
              <div class="damage-types">
                <label class="damage-type-card">
                  <input type="radio" name="damage_type" value="vehicle" required>
                  <div class="card-content">
                    <div class="card-icon">🚗</div>
                    <h3>Fahrzeugschaden</h3>
                    <p>Schaden am eigenen Fahrzeug (Kratzer, Dellen, etc.)</p>
                  </div>
                </label>

                <label class="damage-type-card">
                  <input type="radio" name="damage_type" value="infrastructure" required>
                  <div class="card-content">
                    <div class="card-icon">🚧</div>
                    <h3>Infrastrukturschaden</h3>
                    <p>Schaden an Parkplatz oder Einrichtungen</p>
                  </div>
                </label>

                <label class="damage-type-card">
                  <input type="radio" name="damage_type" value="other" required>
                  <div class="card-content">
                    <div class="card-icon">❓</div>
                    <h3>Sonstiges</h3>
                    <p>Andere Vorfälle oder Probleme</p>
                  </div>
                </label>
              </div>
            </div>

            <!-- Standort -->
            <div class="form-section">
              <h2>📍 Wo ist der Schaden aufgetreten?</h2>
              <div class="location-grid">
                <div class="form-group">
                  <label for="parking_area">Parkplatz:</label>
                  <select id="parking_area" name="parking_area" required>
                    <option value="">Bitte wählen...</option>
                    <option value="ost">Parkplatz Ost</option>
                    <option value="west">Parkplatz West</option>
                  </select>
                </div>

                <div class="form-group">
                  <label for="parking_section">Bereich:</label>
                  <select id="parking_section" name="parking_section" required>
                    <option value="">Erst Parkplatz wählen...</option>
                  </select>
                </div>

                <div class="form-group full-width">
                  <label for="specific_location">Genaue Beschreibung des Ortes:</label>
                  <input type="text" id="specific_location" name="specific_location" 
                         placeholder="z.B. 3. Reihe, Platz 15 oder vor dem Haupteingang" required>
                </div>
              </div>
            </div>

            <!-- Schadensbeschreibung -->
            <div class="form-section">
              <h2>📝 Schadensbeschreibung</h2>
              <div class="form-group">
                <label for="damage_description">Detaillierte Beschreibung:</label>
                <textarea id="damage_description" name="damage_description" rows="5" 
                          placeholder="Beschreiben Sie den Schaden so genau wie möglich..." required></textarea>
              </div>

              <div class="datetime-grid">
                <div class="form-group">
                  <label for="damage_date">Datum des Vorfalls:</label>
                  <input type="date" id="damage_date" name="damage_date" required>
                </div>

                <div class="form-group">
                  <label for="damage_time">Ungefähre Uhrzeit:</label>
                  <input type="time" id="damage_time" name="damage_time">
                </div>
              </div>
            </div>

            <!-- Kontaktdaten -->
            <div class="form-section">
              <h2>👤 Ihre Kontaktdaten</h2>
              <div class="contact-grid">
                <div class="form-group">
                  <label for="reporter_name">Name:</label>
                  <input type="text" id="reporter_name" name="reporter_name" required>
                </div>

                <div class="form-group">
                  <label for="reporter_email">E-Mail:</label>
                  <input type="email" id="reporter_email" name="reporter_email" required>
                </div>

                <div class="form-group">
                  <label for="reporter_phone">Telefon (optional):</label>
                  <input type="tel" id="reporter_phone" name="reporter_phone">
                </div>

                <div class="form-group">
                  <label for="student_id">Matrikelnummer (optional):</label>
                  <input type="text" id="student_id" name="student_id" 
                         placeholder="Falls Sie Studierende/r sind">
                </div>
              </div>
            </div>

            <!-- Fahrzeugdaten -->
            <div class="form-section" id="vehicle-section" style="display: none;">
              <h2>🚙 Fahrzeugdaten</h2>
              <div class="vehicle-grid">
                <div class="form-group">
                  <label for="license_plate">Kennzeichen:</label>
                  <input type="text" id="license_plate" name="license_plate" 
                         placeholder="z.B. MA-SP 123">
                </div>

                <div class="form-group">
                  <label for="vehicle_make">Marke/Modell:</label>
                  <input type="text" id="vehicle_make" name="vehicle_make" 
                         placeholder="z.B. VW Golf">
                </div>

                <div class="form-group">
                  <label for="vehicle_color">Farbe:</label>
                  <input type="text" id="vehicle_color" name="vehicle_color" 
                         placeholder="z.B. Silber">
                </div>
              </div>
            </div>

            <!-- Bilder -->
            <div class="form-section">
              <h2>📷 Bilder (optional)</h2>
              <div class="upload-area">
                <input type="file" id="damage_images" name="damage_images" 
                       accept="image/*" multiple>
                <label for="damage_images" class="upload-label">
                  <div class="upload-icon">📁</div>
                  <div class="upload-text">
                    <strong>Bilder auswählen</strong>
                    <p>Mehrere Dateien möglich (max. 10 MB pro Bild)</p>
                  </div>
                </label>
                <div id="image-preview" class="image-preview"></div>
              </div>
            </div>

            <!-- Datenschutz -->
            <div class="form-section">
              <div class="checkbox-group">
                <label class="checkbox-label">
                  <input type="checkbox" id="privacy_consent" name="privacy_consent" required>
                  <span class="checkmark"></span>
                  Ich stimme der Verarbeitung meiner Daten gemäß der 
                  <a href="datenschutz.html" target="_blank">Datenschutzerklärung</a> zu.
                </label>
              </div>
            </div>

            <!-- Submit Button -->
            <div class="form-actions">
              <button type="submit" class="submit-btn">
                <span class="btn-icon">📤</span>
                <span class="btn-text">Schaden melden</span>
              </button>
            </div>
          </form>
        </div>

        <!-- Kontakt Info -->
        <div class="contact-info-box">
          <h2>📞 Direkter Kontakt</h2>
          <div class="emergency-contact">
            <div class="contact-item">
              <div class="contact-icon">🚨</div>
              <div class="contact-details">
                <h3>Notfall (Gefahr/Verletzung)</h3>
                <p><strong>Notruf: 112</strong></p>
                <p>Campus-Sicherheit: 0621-4105-999</p>
              </div>
            </div>

            <div class="contact-item">
              <div class="contact-icon">🔧</div>
              <div class="contact-details">
                <h3>Technische Probleme</h3>
                <p>IT-Support: 0621-4105-123</p>
                <p>E-Mail: support@dhbw-mannheim.de</p>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <!-- FOOTER WIE BEI INDEX -->
  <footer>
    <div class="footer-content">
      <div class="footer-section">
        <div class="footer-logo">
          <img src="assets/Logo-StudiPark.jpg" alt="StudiPark" class="footer-logo-img">
        </div>
        <p>Intelligentes Parkplatzmanagement<br>
        für die DHBW Mannheim<br>
        Campus Coblitzallee</p>
      </div>
      
      <div class="footer-section">
        <h4>Navigation</h4>
        <div class="footer-links">
          <a href="index.html">Startseite</a>
          <a href="about.html">Über uns</a>
          <a href="datenschutz.html">Datenschutz</a>
          <a href="impressum.html">Impressum</a>
          <a href="schaden.html">Schaden melden</a>
        </div>
      </div>
      
      <div class="footer-section">
        <h4>Kontakt DHBW</h4>
        <p>📞 +49 621 4105-0<br>
        📧 info@dhbw-mannheim.de<br>
        🌐 www.mannheim.dhbw.de</p>
      </div>
      
      <!-- SEPARATE ADMIN SEKTION -->
      <div class="footer-section">
        <a href="login.html" class="admin-btn">
          🔐 Admin Login
        </a>
      </div>
    </div>
    
    <div class="footer-bottom">
      <p>&copy; 2025 StudiPark - DHBW Mannheim Parkplatzmanagement System</p>
    </div>
  </footer>

  <script src="script.js"></script>
  <script>
    // Form Interaktivität
    document.addEventListener('DOMContentLoaded', function() {
      const damageTypeInputs = document.querySelectorAll('input[name="damage_type"]');
      const vehicleSection = document.getElementById('vehicle-section');
      const parkingAreaSelect = document.getElementById('parking_area');
      const parkingSectionSelect = document.getElementById('parking_section');

      // Fahrzeugdaten anzeigen/verstecken
      damageTypeInputs.forEach(input => {
        input.addEventListener('change', function() {
          if (this.value === 'vehicle') {
            vehicleSection.style.display = 'block';
          } else {
            vehicleSection.style.display = 'none';
          }
        });
      });

      // Bereich basierend auf Parkplatz aktualisieren
      parkingAreaSelect.addEventListener('change', function() {
        const area = this.value;
        parkingSectionSelect.innerHTML = '<option value="">Bitte wählen...</option>';
        
        if (area === 'ost') {
          ['A (ganz links)', 'B (zweite von links)', 'C (Mitte)', 'D (zweite von rechts)', 'E (ganz rechts)'].forEach(section => {
            const option = document.createElement('option');
            option.value = section.split(' ')[0].toLowerCase();
            option.textContent = section;
            parkingSectionSelect.appendChild(option);
          });
        } else if (area === 'west') {
          ['A (ganz links)', 'B (zweite von links)', 'C (zweite von rechts)', 'D (ganz rechts)'].forEach(section => {
            const option = document.createElement('option');
            option.value = section.split(' ')[0].toLowerCase();
            option.textContent = section;
            parkingSectionSelect.appendChild(option);
          });
        }
      });

      // Datum auf heute setzen
      document.getElementById('damage_date').valueAsDate = new Date();

      // Form Submission
      document.getElementById('damageForm').addEventListener('submit', function(e) {
        e.preventDefault();
        alert('Vielen Dank für Ihre Meldung! Sie erhalten in Kürze eine Bestätigung per E-Mail.');
      });
    });
  </script>
</body>
</html>
