<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <!-- Responsives Design -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StudiPark - Admin Login</title>
    <!-- Einbindung des Stylesheets -->
    <link rel="stylesheet" href="styles/stylesheet.css">
</head>
<body class="adminlogin">
<!-- Hauptcontainer für das Login-Formular -->
<div class="form-container">
    <h1>StudiPark Admin</h1>

    <!-- Login-Formular, Validierung erfolgt manuell via JavaScript -->
    <form id="loginForm" novalidate>

        <!-- Eingabefeld: Benutzername / E-Mail -->
        <div class="form-group">
            <label for="username">Benutzername / E-Mail</label>
            <input type="email" id="username" name="username" required aria-describedby="usernameError">
            <div id="usernameError" class="error-message">Bitte geben Sie eine gültige E-Mail-Adresse ein.</div>
        </div>

        <!-- Eingabefeld: Passwort mit Toggle-Button für Sichtbarkeit -->
        <div class="form-group position-relative">
            <label for="password">Passwort</label>
            <input type="password" id="password" name="password" required aria-describedby="passwordError">
            <button type="button" class="password-toggle" aria-label="Passwort anzeigen" aria-pressed="false" id="togglePassword">&#128065;</button>
            <div id="passwordError" class="error-message">Bitte geben Sie Ihr Passwort ein.</div>
        </div>

        <!-- Checkbox: Angemeldet bleiben -->
        <div class="checkbox-group">
            <input type="checkbox" id="rememberMe" name="rememberMe">
            <label for="rememberMe">Angemeldet bleiben</label>
        </div>

        <!-- Button zum Absenden -->
        <button type="submit">Anmelden</button>

        <!-- Link für Passwort vergessen -->
        <div class="text-center" style="margin-top: 15px;">
            <a href="#" id="forgotPassword">Passwort vergessen?</a>
        </div>
    </form>
</div>

<!-- Footer-Bereich -->
<footer>
    <a href="index.html">Startseite</a> |
    <a href="impressum.html">Impressum</a> |
    <a href="datenschutz.html">Datenschutz</a>
</footer>

<script>
    // Referenzen auf Passwortfeld und Toggle-Button
    const togglePassword = document.getElementById('togglePassword');
    const password = document.getElementById('password');

    // Klick-Event: Passwortsichtbarkeit umschalten
    togglePassword.addEventListener('click', () => {
        // Typ des Input-Felds ändern (text <-> password)
        const type = password.getAttribute('type') === 'password' ? 'text' : 'password';
        password.setAttribute('type', type);

        // aria-pressed toggeln (für Screenreader)
        const pressed = togglePassword.getAttribute('aria-pressed') === 'true';
        togglePassword.setAttribute('aria-pressed', !pressed);
    });

    // Formularreferenz
    const form = document.getElementById('loginForm');

    // Event: Formular absenden
    form.addEventListener('submit', event => {
        event.preventDefault(); // verhindert Standard-Submit-Verhalten

        let valid = true; // Status für Validierung
        const username = form.username.value.trim();
        const passwordVal = form.password.value.trim();

        // Regex: einfache E-Mail-Prüfung
        const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

        // E-Mail Validierung (clientseitig)
        if (!emailPattern.test(username)) {
            document.getElementById('usernameError').classList.add('visible');
            valid = false;
        } else {
            document.getElementById('usernameError').classList.remove('visible');
        }

        // Passwort Validierung (clientseitig)
        if (passwordVal === '') {
            document.getElementById('passwordError').classList.add('visible');
            valid = false;
        } else {
            document.getElementById('passwordError').classList.remove('visible');
        }

        // Wenn alles gültig ist → Login-Prüfung
        if (valid) {
            // Einfache Passwortprüfung (Demo, unsicher)
            if (passwordVal === '12345') {
                // Weiterleitung zur Admin-Seite
                window.location.href = 'admin.html';
            } else {
                // Fehlermeldung bei falschem Passwort
                alert("Falsches Passwort");
            }
        }
    });
</script>
</body>
</html>

